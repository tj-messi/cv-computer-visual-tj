#10.4padding

###padding意义

为了构建深度神经网络，你需要学会使用的一个基本的卷积操作就是padding，让我们来看看它是如何工作的

###流程

![](https://cdn.jsdelivr.net/gh/tj-messi/picture/20241002161918.png)


我们在之前视频中看到，如果你用一个3×3的过滤器卷积一个6×6的图像，你最后会得到一个4×4的输出，也就是一个4×4矩阵。那是因为你的3×3过滤器在6×6矩阵中，只可能有4×4种可能的位置。这背后的数学解释是，如果我们有一个 n ∗ n  的图像，用 f ∗ f  的过滤器做卷积，那么输出的维度就是 ( n − f + 1 ) ∗ ( n − f + 1 )  。在这个例子里是 6 − 3 + 1 = 4 6-3+1=46−3+1=4 ，因此得到了一个4×4的输出。

这样的话会有两个缺点，第一个缺点是每次做卷积操作，你的图像就会缩小，从6×6缩小到4×4，你可能做了几次之后，你的图像就会变得很小了，可能会缩小到只有1×1的大小。你可不想让你的图像在每次识别边缘或其他特征时都缩小，这就是第一个缺点。

![](https://cdn.jsdelivr.net/gh/tj-messi/picture/20241002162012.png)

第二个缺点时，如果你注意角落边缘的像素，这个像素点（绿色阴影标记）只被一个输出所触碰或者使用，因为它位于这个3×3的区域的一角。但如果是在中间的像素点，比如这个（红色方框标记），就会有许多3×3的区域与之重叠。所以那些在角落或者边缘区域的像素点在输出中采用较少，意味着你丢掉了图像边缘位置的许多信息

###解决问题

![](https://cdn.jsdelivr.net/gh/tj-messi/picture/20241002162117.png)

为了解决这些问题，你可以在卷积操作之前填充这幅图像。在这个案例中，你可以沿着图像边缘再填充一层像素。如果你这样操作了，那么6×6的图像就被你填充成了一个8×8的图像。如果你用3×3的图像对这个8×8的图像卷积，你得到的输出就不是4×4的，而是6×6的图像，你就得到了一个尺寸和原始图像6×6的图像。习惯上，你可以用0去填充，

填充像素个数：
	
	至于选择填充多少像素，通常有两个选择，分别叫做Valid卷积和Same卷积。

####valid 卷积

Valid卷积意味着不填充

####Same卷积

意味你填充后，你的输出大小和输入大小是一样的
